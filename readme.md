# Social Network Analytics Platform


# Requirements

Your objective is to design and implement a social network data analytics platform for a social network site **Bacefook**. 

Bacefook has a small, ambitious social network platform. Your goal is to help them implement the analytics part and the visualization thereof of their product based on events emitted by their core module. Eventually the product team would like to be able to:

## Analytics Page

1. Display a network of relationship between a given user and their relationships. A relationship is both the referrer of a user, the users this user referred, and all friends of the user. The product team would like to be able to query for such a relationship given just the user's name and see a nice graph. You do not need to care about the rendering performance on the frontend as long as it renders.

2. Display `network strength` ranking in a leaderboard-like list. This leaderboard should show a ranked list based on user with the most `network strength`.

3. Display the user's `referral points` ranking in a leaderboard-like list. This leaderboard should show a ranked list based on user with the most `referral points`.

## User Profile

1. The user profile should show 
   1. the user's `name`
   2. user's referral timeseries graph given any time range.
   3. user's referral count given any timerange.
   4. user's friends count timeseries graph given any time range
   5. user's friends count given any timerange.

Your are expect to implement all modules: frontend, backend, and the analytics workflow. Given the time constraint, you may skip some of the features above, but we may ask you why you prioritize the features you implemented over the ones you skipped. It is recommended that you implement vertically feature by feature. 

2. Display top 3 **influential friends**.

3. Display a paginated list of user's friends.

## Glossary

**Network Strength**

Network strength at any time `t` of a user is measured by summing a user's _current friend count_, the _number of people this user has referred_, and the _person that referred this user_, if any. For example, if `A` has 3 friends and referred 3 people and is referred by `B`, then `A`'s networkt strength is `3 + 3 + 1`.

**Referral Points**

This point to be used in Bacefook's reward system. The point is given to a user anytime the user they referred refer new people up until depth 2. For example, if A refers B, A refers C, and C refers D, and D refers E, when E refers a new person, E will get +1 referral point, and the parent of E (which is D) will get +1 point.

When new person joins a referral graph, their friend and referral must all get points up until depth = 2

**Influential friends**

Friends that have the most referral points + network strength.

# Understanding

Your platform will show data generated by the `bacefook-core` module.

`modules/bacefok-core/index.js` is the generation file we have created for you. You can run this file with

`node bacefook-generator.js <initialUserCount>` 

to create `n` number of users with some probabilities for creating add friend / delete friend and referral events. The data is saved right beside `index.js` as a json file in this format: `bacefook-events-{timestamp}.json`. The program itself is a CLI application. Upon hitting enter, a new file will be generated with the updated events. Your system should react to this information and update the network data correctly.

# Data Structures

```ts
/**
 * Represents new user enrollment
 */ 
interface RegisterEvent {
    type: "register";
    name: string;
    created_at: string;
}

/**
 * Represents a fact that user a refers user b
 */ 
interface ReferralEvent {
    type: "referral";
    referredBy: string;
    user: string;
    created_at: string;
}

/*
* Represent new un-directed friendship between two users.
*/
interface AddFriendEvent {
    type: "addfriend";
    user1_name: string;
    user2_name: string;
    created_at: string;
}

/*
* Removes existing un-directed relationship.
*/
interface UnfriendEvent {
    type: "unfriend";
    user1_name: string;
    user2_name: string;
    created_at: string;
}
```

Your program should react to the event generated by this json list. There is no need to include the generated events when you submit.

When you run your program to source events from the generated files, the flow might be as follows:

1. Run generation command

2. Trigger your data analytics workflow to source the events

3. Verify data and and test on UI

4. Go to step 1

# Grading

For this assignment, we intentionally made the requirement to be intractable under the given time constraint. While you do not need to complete everything, ANYTHING included as a part of your code will be used to grade you: code structure, documentation, tests(if you do them), system design, etc.

Your are welcome to use AI. Actually, we think it is impractical not to use AI. But when we ask you later why you made some decisions and how to add something, you must be able to give us answers. We may ask you about the system design choices you will have made, or the expected load your system can handle.
